\chapter{Einführung in Google Fusion Tables}

\section{Was ist Google Fusion Tables}
Google Fusion Tables wurde am 10. Juni 2009 der Öffentlichkeit zugänglich gemacht\cite{fusion-table-announce}. Das erklärte Ziel dabei war es, die Nutzung einer Datenbank so einfach wie möglich zu machen.

\begin{figure}[!ht]
	\centering
	\includegraphics[width=\textwidth]{images/einfuehrung/gft-webgui-table}
	\caption{Tabellenansicht von Google Fusion Tables im Web UI}
	\label{gft-webgui-table}
\end{figure}

\begin{figure}[!ht]
	\centering
	\includegraphics[width=\textwidth]{images/einfuehrung/gft-webgui-map}
	\caption{Kartenansicht von Google Fusion Tables im Web UI}
	\label{gft-webgui-map}
\end{figure}

\subsection{Software-as-a-Service (SaaS) / Cloud}
Der Begriff \emph{Software-as-a-Service} (Saas) hat sich in den letzten Jahren etabliert und bezeichnet die Dienstleistung eine Software nicht nur für einen Kunden zu entwickeln, sondern auch gleich deren Betrieb zu übernehmen. Diese gesamthafte Dienstleistung wird dann dem Kunden angeboten, so dass dieser keine eigene Infrastruktur betreiben muss. Die "`Cloud"' ist die logische  Erweiterung dieses Konzepts, dabei wird der angebotene Dienst transparent auf mehreren Umgebungen und an verschiedenen Lokationenn angeboten. Dies soll zum einen eine hohe Erreichbarkeit gewährleisten, zum anderen kann ein Anbieter dadurch sehr leicht skalieren. \todo[inline]{Quellenverweis}

\subsection{Datenbank in der Cloud}
Google Fusion Tables schafft das Problem der Erreichbarkeit einer Datenbank ab. Fusion Tables sind dezentral in der Cloud gespeichert und dort lassen sie sich einfach vertikal skalieren. Die momentanen geltenden Limiten der Datenbank sind 250MB Speicher für eine Tabelle, 25'000 Abfragen pro Tag und Benutzer sowie 100'000 Elemente, die gleichzeitig auf der Karte dargestellt werden können. Allgemein werden bei Abfragen nur die ersten 100'000 Resultate als Antwort zurückgeliefert. Diese Einschränkungen können Kunden mit Google Maps Premier auf Anfrage verändern. \cite{fusion-tables-geo-limits}

\begin{longtable}{|l|l|}
\hline 
\textbf{Beschreibung} & \textbf{Limitation} \\ 
\hline 
Speicher & 250MB \\ 
\hline 
Abfragen pro Tag & 25'000 \\ 
\hline 
Gleichzeitig angezeigte Elemente auf Karte & 100'000 \\ 
\hline 
Für Abfragen berücksichtigte Records & erste 100'000 \\ 
\hline 
\caption{Limitationen der Google Fusion Tables}
\label{gft-limitations}
\end{longtable} 

\subsection{Kollaboration und Nutzung von (ver-)öffentlichen Daten}
Der Gedanke der Cloud lässt sich abseits vom technischen noch weiterdenken. Durch die allgemeine Verfügbarkeit der Fusion Tables Datenbank, lassen sich die dort eingetragenen Daten mit anderen Benutzern oder gar der Öffentlichkeit teilen. Es gibt sogar eine eigene Suche für öffentliche Tabellen.\cite{fusion-tables-search} Tabellen können dann mit anderen Tabellen gemerged werden, wodurch die Vereinigung der Daten wiederum neue Möglichkeiten zur Nutzung der Daten ermöglicht. Eine öffentlich zugängliche Tabelle mit Länderpolygonen lässt sich so beliebig oft gebrauchen, um Daten mit Ländern zu verknüpfen und diese dann auf einer Karte darzustellen.

Diese passive Kollaboration ermöglicht es auf eine breite Palette an öffentlichen bzw. veröffentlichten Daten zurückzugreifen. Via Import lassen sich auch andere bereits bestehende Daten mit Fusion Tables nutzen. Unterstützt sind dabei Tabellen (via Google Spreadsheet) und KML Dateien. Mit unserem im Kapitel \ref{converter-build} vorgestellten Build lassen sich eine breite Palette von Dateinformaten in Google Fusion Tables importieren.

Um aktiv zu kollaborieren bieten hat Google auch einige Features angedacht. So ist es möglich einzelne Records oder gar Zellen in der Tabelle zu kommentieren, sofern man die nötigen Berechtigungen dafür hat. Falls man Daten von mehreren Lieferanten verwalten lassen will, kann eine Partei eine Tabelle erstellen und verschiedene Views darauf erstellen, welche jeweils von den verschiedenen Datenlieferanten gepflegt werden. Durch entsprechend gesetzte Berechtigungen kann so jeder seine Daten zum ganzen Beitragen, ohne Zugriff auf die Daten aller anderen Lieferanten zu erlangen. Einzig der Besitzer der Tabelle hat den kompletten Überblick. Google hat als Beispiel für diesen Use Case die Applikation \emph{Flu Vaccine Finder} erstellt, welche es den Anbietern von Grippeimpfungen ermöglicht ihre Lokale selbstständig zu erfassen und verwalten.\cite{data-gathering}

\subsection{Verschiedene Tabellenarten}
\todo[inline]{Abschnitt zu Tabellenarten}
Google Fusion Tables unterscheidet grundsätzlich 3 verschiedene Tabellenarten. Jede Tabelle hat sowohl einen numerischen wie auch einen \emph{verschlüsselten} Namen, der \emph{encid} genannt wird. Wobei das neue API nur noch die encid akzeptiert (siehe Abschnitt \ref{api-migration}). 

\subsubsection{Table}

\subsubsection{Merged Table}

\subsubsection{View}

\subsection{Austausch mit den Google Entwicklern}
Da es sich bei Google Fusion Tables um ein relativ neues Projekt handelt war uns bewusst, dass wir früher oder später vor Problemen stehen würden. Von daher für uns klar, dass wir die beiden offiziellen Supportkanäle (Mailingliste\footnote{Die Mailingliste ist für allgemeine oder konzeptionelle Fragen: \url{https://groups.google.com/forum/?fromgroups\#!forum/fusion-tables-users-group}} und StackOverflow\footnote{Google hat alle technischen Fragen zu GFT in die bekannte Entwickler-Community StackOverflow ausgelagert: \url{http://stackoverflow.com/questions/tagged/google-fusion-tables}}) aktiv nutzen werden. Zum einen ist es sehr interessant zu sehen welche Ideen und Probleme andere Leute haben und zum anderen auch einen guten Kontakt zur Community und den Google Entwicklern zu pflegen.

Wir hatten allgemein sehr guten Kontakt zu den Google Entwicklern. Normalerweise per Mailingliste, wo man meist innerhalb eines Tages eine sehr gute Antwort auf Fragen bekommt. Auch ein von unser gemeldeter Bug\footnote{Bug-Report \emph{COUNT() returns as NaN in Trusted Tester API}: \url{http://code.google.com/p/fusion-tables/issues/detail?id=1086}} wurde sehr schnell behoben (nach ca. 2 Wochen). Der Bug ist uns beim Wechsel auf das neue Trusted Tester API (siehe Abschnitt \ref{trusted-tester-api}) dank unserer Unit Tests aufgefallen. Leider gab es aber nicht für alle unsere Anfragen einfache Lösungen (siehe Abschnitt \ref{geocodierung-bug}).

Im April hat es einen Google+ Hangout (Videokonferenz) mit 2 Google Fusion Tables Entwicklern zum Trusted Tester API gegeben, wo sie Feedback und Anregungen gesammelt haben. Da nicht allzu viele Leute anwesend waren, konnten wir ausführlich Feedback geben und unsere Use Cases besprechen.

% SQL API
\input{body/projektdokumentation/sql_api.tex}

% Geocodierung
\input{body/projektdokumentation/geocodierung.tex}


% Google Maps API - FusionTablesLayer
\input{body/projektdokumentation/fusiontableslayer.tex}

% Google Fusion Table Javascript Library (GftLib)
\input{body/projektdokumentation/gftlib.tex}


% Authentifizierung mit OAuth
\input{body/projektdokumentation/oauth.tex}